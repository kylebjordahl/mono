<pre>{{ score$ | async }}</pre>

<section class="improvements">
  Make Improvements<br />
  <select [(ngModel)]="selectedArea" name="selectedArea">
    <option *ngFor="let area of ImprovementAreas" [value]="area">
      {{ area }}
    </option></select
  ><br />
  <button (click)="onImprove()">Improve!</button>

  <div
    *ngIf="improvement$ | async as improvements"
    fxLayout="row wrap"
    fxLayoutAlign="start start"
  >
    <div
      class="improvement-track"
      *ngFor="let area of ImprovementAreas"
      fxFlex="initial"
      fxLayout="column"
      fxLayoutAlign="start, center"
    >
      {{ area }}:
      <div
        *ngFor="let i of improvements[area]"
        class="improvement"
        [class.marked]="i.marked"
        fxFlex="initial"
      >
        {{ i.value }}
      </div>
    </div>
    <ng-container *ngIf="show$ | async as shows">
      <div fxLayout="column">
        <div>Shows:</div>
        <div fxLayout="row">
          <div
            *ngFor="let track of ['left', 'right']"
            class="improvement-track"
            fxFlex="initial"
            fxLayout="column"
          >
            <div
              *ngFor="let i of shows[track].shows"
              class="improvement"
              [class.marked]="i.marked"
              fxFlex="initial"
              [fxLayout]="track === 'left' ? 'row' : 'row-reverse'"
              fxLayoutAlign="end"
            >
              <div
                *ngIf="i.cash"
                class="cash"
                [class.circled]="shows[track].isStarted"
              >
                ðŸ’¸
              </div>
              <div>{{ i.value }}</div>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</section>

<section class="inauguration" fxLayout="row">
  <button fxFlex (click)="onInaugurationStep()">Inauguration Step</button>
  <button
    fxFlex
    *ngIf="bonusAvailable$ | async as bonusCount"
    (click)="onUseInaugurationBonus()"
  >
    Use Inauguration Bonus ({{ bonusCount }})
  </button>
</section>
